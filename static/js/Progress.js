(function() {
    function Progress(options) {
        var p = this;
        var element = options.element;
        var field = options.field;
        var value;

        p.set = function(to) {
            to = Math.floor(to);
            if (to < 0) {
                to = 0;
            } else if (to > 100) {
                to = 100;
            }

            var percent = to + '%';
            element.style.width = percent;
            field.innerHTML = percent;
            value = to;
        };

        p.get = function() {
            return value;
        };

        if (!options.value) {
            options.value = 0;
        }

        p.set(options.value);
    }

    window.Progress = Progress;
})();
