(function() {
    function ExtendedDialog(o) {
        o.resize = '.resize';
        o.drag = '.title';

        var resizeHandle = createElement('i', {
            class: 'resize',
            parent: o.element
        });

        var dialog = new Dialog(o);

        dialog.clearInputs = function() {
            var inputs = dialog.element.querySelectorAll('input');
            for (var i = 0; i < inputs.length; i++) {
                inputs[i].value = '';
            }
        };

        var title = document.querySelector('.title');
        var actions = document.querySelector('.actions');
        var content = document.querySelector('.content');
        dialog.emitter.on('resized', function() {
            dialog.measuring(true);
            var contentHeight =
                    dialog.element.offsetHeight - title.offsetHeight - actions.offsetHeight;
            resizeElement(content, null, contentHeight);
            dialog.measuring(false);
        });

        return dialog;
    }
    window.ExtendedDialog = ExtendedDialog;
})();
